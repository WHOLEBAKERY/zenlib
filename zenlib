-- ZenScript UI Library v1.0
-- A fully customized version of LibTest.lua
-- Designed by Master Shane

local Library = {}

-- Services
local tweenService = game:GetService("TweenService")
local UIS = game:GetService("UserInputService")
local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")

-- Theme Configuration
Library.Theme = {
    Background = Color3.fromRGB(31, 25, 44),
    BackgroundTransparency = 0.6,
    Accent = Color3.fromRGB(37, 99, 235),
    Text = Color3.fromRGB(255, 255, 255),
    Font = Enum.Font.GothamBold
}

-- Dragging Functionality
function Library:Drag(frame, parent)
    local dragToggle = nil
    local dragSpeed = 0.25
    local dragStart = nil
    local startPos = nil

    local function updateInput(input)
        local delta = input.Position - dragStart
        local position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        tweenService:Create(parent, TweenInfo.new(dragSpeed), {Position = position}):Play()
    end

    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragToggle = true
            dragStart = input.Position
            startPos = parent.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragToggle = false
                end
            end)
        end
    end)

    UIS.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            if dragToggle then
                updateInput(input)
            end
        end
    end)
end

-- Window Creation
function Library:Window(Title)
    Title = Title or "ZenScript"

    local UiLib = Instance.new("ScreenGui")
    local Main = Instance.new("Frame")
    local MainCorner = Instance.new("UICorner")
    local TabFrame = Instance.new("Frame")
    local UICorner = Instance.new("UICorner")
    local TabNavigator = Instance.new("ScrollingFrame")
    local UIPadding = Instance.new("UIPadding")
    local UIListLayout = Instance.new("UIListLayout")
    local TopBar = Instance.new("Frame")
    local TopCorner = Instance.new("UICorner")
    local LibraryTitle = Instance.new("TextLabel")
    local Extension = Instance.new("Frame")
    local ExtensionCorner = Instance.new("UICorner")
    local ContentHolder = Instance.new("Folder")
    local TabContent = Instance.new("ScrollingFrame")
    local ContentPadding = Instance.new("UIPadding")
    local ContentLayout = Instance.new("UIListLayout")

    -- Properties
    UiLib.Name = "UiLib"
    UiLib.Parent = Players.LocalPlayer:WaitForChild("PlayerGui")
    UiLib.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

    Main.Name = "Main"
    Main.Parent = UiLib
    Main.BackgroundColor3 = Library.Theme.Background
    Main.BorderSizePixel = 0
    Main.Position = UDim2.new(0.303, 0, 0.292, 0)
    Main.Size = UDim2.new(0, 454, 0, 333)
    Main.ZIndex = 2
    MainCorner.CornerRadius = UDim.new(0, 15)
    MainCorner.Parent = Main

    TabFrame.Name = "TabFrame"
    TabFrame.Parent = Main
    TabFrame.BackgroundColor3 = Color3.fromRGB(18, 15, 24)
    TabFrame.BorderSizePixel = 0
    TabFrame.Position = UDim2.new(0.02, 0, 0.153, 0)
    TabFrame.Size = UDim2.new(0, 134, 0, 275)
    TabFrame.ZIndex = 4
    UICorner.CornerRadius = UDim.new(0, 7)
    UICorner.Parent = TabFrame

    TabNavigator.Name = "TabNavigator"
    TabNavigator.Parent = TabFrame
    TabNavigator.Active = true
    TabNavigator.BackgroundTransparency = 1
    TabNavigator.BorderSizePixel = 0
    TabNavigator.Position = UDim2.new(0.007, 0, 0, 0)
    TabNavigator.Size = UDim2.new(0, 132, 0, 275)
    TabNavigator.ZIndex = 4
    TabNavigator.CanvasSize = UDim2.new(0, 0, 0, 0)
    UIPadding.Parent = TabNavigator
    UIPadding.PaddingTop = UDim.new(0, 12)
    UIListLayout.Parent = TabNavigator
    UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    UIListLayout.Padding = UDim.new(0, 19)

    self:Drag(TopBar, Main)

    -- Toggle UI
    function Library:ToggleUI()
        if UiLib.Enabled then
            local ClickSound = Instance.new("Sound")
            ClickSound.Parent = UiLib
            ClickSound.SoundId = "rbxassetid://552900451"
            ClickSound.Volume = 2
            ClickSound.Pitch = 1.2
            UiLib.Enabled = false
            ClickSound:Play()
            wait(0.5)
            ClickSound:Destroy()
        else
            local ClickSound = Instance.new("Sound")
            ClickSound.Parent = UiLib
            ClickSound.SoundId = "rbxassetid://552900451"
            ClickSound.Volume = 2
            ClickSound.Pitch = 1
            UiLib.Enabled = true
            ClickSound:Play()
            wait(0.5)
            ClickSound:Destroy()
        end
    end

    -- Top Bar
    TopBar.Name = "TopBar"
    TopBar.Parent = Main
    TopBar.BackgroundColor3 = Color3.fromRGB(18, 15, 24)
    TopBar.BorderSizePixel = 0
    TopBar.Size = UDim2.new(0, 454, 0, 45)
    TopBar.ZIndex = 5
    TopCorner.CornerRadius = UDim.new(0, 15)
    TopCorner.Parent = TopBar

    LibraryTitle.Name = "LibraryTitle"
    LibraryTitle.Parent = TopBar
    LibraryTitle.BackgroundTransparency = 1
    LibraryTitle.Position = UDim2.new(0.02, 2, 0.17, -4)
    LibraryTitle.Size = UDim2.new(0, 300, 0, 39)
    LibraryTitle.ZIndex = 5
    LibraryTitle.Font = Library.Theme.Font
    LibraryTitle.Text = Title
    LibraryTitle.TextColor3 = Library.Theme.Text
    LibraryTitle.TextSize = 20
    LibraryTitle.TextXAlignment = Enum.TextXAlignment.Left

    Extension.Name = "Extension"
    Extension.Parent = TopBar
    Extension.BackgroundColor3 = Color3.fromRGB(18, 15, 24)
    Extension.BorderSizePixel = 0
    Extension.Position = UDim2.new(0.96, 0, 0, 0)
    Extension.Size = UDim2.new(0, 18, 0, 45)
    Extension.ZIndex = 5
    ExtensionCorner.CornerRadius = UDim.new(0, 15)
    ExtensionCorner.Parent = Extension

    ContentHolder.Name = "ContentHolder"
    ContentHolder.Parent = UiLib

    TabContent.Name = "TabContent"
    TabContent.Parent = ContentHolder
    TabContent.Active = true
    TabContent.BackgroundTransparency = 1
    TabContent.BorderSizePixel = 0
    TabContent.Position = UDim2.new(0.2, 0, 0, 0)
    TabContent.Size = UDim2.new(0, 320, 0, 333)
    TabContent.ZIndex = 4
    ContentPadding.Parent = TabContent
    ContentPadding.PaddingTop = UDim.new(0, 12)
    ContentLayout.Parent = TabContent
    ContentLayout.SortOrder = Enum.SortOrder.LayoutOrder
    ContentLayout.Padding = UDim.new(0, 10)

    -- Return the library
    return Library
end

return Library
